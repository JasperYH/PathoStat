---
title: "PathoStat package Introduction"
author: "Solaiappan Manimaran"
date: "`r Sys.Date()`"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{PathoStatIntro}
  %\VignetteEngine{knitr::rmarkdown}
  \usepackage[utf8]{inputenc}
---
The purpose of this package is to perform Statistical Analysis on the 
PathoScope generated reports file.

The package includes:

1. Relative Abundance plots (Stacked Bar Plot, Heatmap)
2. Diversity plots (Alpha, Beta, Exploratory Tree, BiPlot, Co-Occurrence)
3. Differential Expression (Expression Plots, Limma)
4. Confidence Region Plots
5. PCA plots
6. PCoA plots

`runPathoStat` is the pipeline function that generates the PathoStat report
and launches shiny app when in interactive mode. It combines all the functions 
into one step.

## Installation

To begin, install [Bioconductor](http://www.bioconductor.org/) along with a
few dependencies that PathoStat uses:

```r
source("http://bioconductor.org/biocLite.R")
biocLite(c('phyloseq', 'pander', 'MCMCpack', 'limma', 'preprocessCore', 
'stringi', 'corpcor', 'matrixStats', 'shiny', 'ggvis', 'd3heatmap', 'reshape2',
'scales', 'rentrez', 'devtools'))
```
Install 'pandoc' package by following the instructions at the following URL:
http://pandoc.org/installing.html

Rstudio also provides pandoc binaries at the following location for Windows, 
Linux and Mac:
https://s3.amazonaws.com/rstudio-buildtools/pandoc-1.13.1.zip 

Next, use [devtools](https://github.com/hadley/devtools) to install the latest
version of PathoStat from Github:
```r
require(devtools)
install_github("mani2012/PathoStat", build_vignettes=TRUE, auth_token="dadf36cdaef71a2f761f193862a8f6f3f36e3966")
```

If all went well you should now be able to load PathoStat. 
Here are some examples usage of the pipeline.

### Example 1: Run PathoStat
```r
runPathoStat()
```

### Example 2: L1 set
```r
example2_data_dir <- system.file("example/data2/L1", package = "PathoStat")
pstat <- createPathoStat(input_dir=example2_data_dir, 
    sample_data_file="sample_data.tsv")
# Save for future use
savePstat(pstat, outdir=".", outfileName="pstat_data_2_L1.rda")
# Load and run PathoStat
pstat <- loadPstat(indir=".", infileName="pstat_data_2_L1.rda")
runPathoStat(pstat)
```
### Example 2: L2 set
```r
example2_data_dir <- system.file("example/data2/L2", package = "PathoStat")
pstat <- createPathoStat(input_dir=example2_data_dir, 
    sample_data_file="sample_data.tsv")
# Save for future use
savePstat(pstat, outdir=".", outfileName="pstat_data_2_L2.rda")
# Load and run PathoStat
pstat <- loadPstat(indir=".", infileName="pstat_data_2_L2.rda")
runPathoStat(pstat)
```
